add a foo
~~~
  commit
    [#foo value: "hi!"]
~~~

is test
~~~
  search
    [#foo value]
    result = if value = "yo" then "cool"
              else if x = "meh" then x
              else "ok"
  commit
    [#result result]
~~~

